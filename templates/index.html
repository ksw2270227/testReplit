<!DOCTYPE html>
<html>
<head>
    <title>Page Transition with Confirmation</title>
</head>
<body>
    <button onclick="confirmAndGo()">Go to Target Page</button>

  <button id="toggleButton">Toggle Flag</button>
  <a id="textLink" href="#" style="display: none;">表示、非表示テスト</a>

    <script>
      function confirmAndGo() {
          let userConfirmed = confirm("Are you sure you want to go to the target page?");
          if (userConfirmed) {
              window.location.href = "/target_page";
          }
      }

      let flag = false;

      document.getElementById("toggleButton").onclick = function() {
          flag = !flag;
          document.getElementById("textLink").style.display = flag ? "block" : "none";
      };
    </script>
</body>
</html>
